<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <style>
      body {
        background-color: rgb(164, 231, 164);
      }
      .form-control1 {
        width: 20%;
      }
      .container {
        margin-bottom: 70px;
      }
  </style>
</head>
<body>
  <div class="container">
    <br>
    <div class="row">
        <div class="col-12">
            <h2><strong><i class="fa fa-address-card" style="font-size:24px"></i>  Survey Questions</strong></h2>
            </br>
            <div class="card">
              <div class="card-header">
                <h3><strong>About You</strong></h3>
              </div>
              <div class="card-body">
                <form method="POST" role="form">
                  <div class="form-group">
                    <label for="name"><strong>Name (Required)</strong></label>
                    <input type="text" class="form-control" id="name">
                  </div>
                  <div class="form-group">
                    <label for="role"><strong>Link to Photo (Required)</strong></label>
                    <input type="text" class="form-control" id="photo">
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #1</strong></h5>
                      <label for="1">I love Boba!</label>
                      <br>
                      <select class="form-control1" id="1">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #2</strong></h5>
                      <label for="2">I love Sushi!</label>
                      <br>
                      <select class="form-control1" id="2">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #3</strong></h5>
                      <label for="3">I love Snowboarding!</label>
                      <br>
                      <select class="form-control1" id="3">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #4</strong></h5>
                      <label for="4">I love Korean BBQ!</label>
                      <br>
                      <select class="form-control1" id="4">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #5</strong></h5>
                      <label for="5">I love Beach Vacations!</label>
                      <br>
                      <select class="form-control1" id="5">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #6</strong></h5>
                      <label for="6">I love Sun!</label>
                      <br>
                      <select class="form-control1" id="6">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #7</strong></h5>
                      <label for="7">I love Staycations</label>
                      <br>
                      <select class="form-control1" id="7">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #8</strong></h5>
                      <label for="8">I love Dogs!</label>
                      <br>
                      <select class="form-control1" id="8">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #9</strong></h5>
                      <label for="9">I love Nature!</label>
                      <br>
                      <select class="form-control1" id="9">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <h5><strong>Question #10</strong></h5>
                      <label for="10">I love Life!</label>
                      <br>
                      <select class="form-control1" id="10">
                        <option value="0"></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                      </select>
                  </div>
                </form>
                <br>
                <div class="text-right">
                  <button type="submit" class="btn btn-success btn-md" id="add-btn">Find a match</button>
                </div>
              </div>
            </div>
        </div>
    </div>
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="title">Your best match</h3>
        </div>
        <div class="modal-body">
          <h2 id="match"></h2>
          <img id="matchphoto" src="">
        </div>
      </div>
    </div>
  </div>

<script type ="text/javascript">
    $("#add-btn").on("click", function(event) {
      event.preventDefault();
      
      var valid = true;
      
      if ($("#name").val() === "" || $("#photo").val() === "") {
        valid = false;
        alert("You missing a required field!");
      }

      else if ($("#1").val() === "0" || $("#2").val() === "0" || $("#3").val() === "0" || $("#4").val() === "0" || $("#5").val() === "0" || $("#6").val() === "0" || $("#7").val() === "0" || $("#8").val() === "0" || $("#9").val() === "0" || $("#10").val() === "0") {
        valid = false;
        alert("You missing a required field!");
      }

      if (valid === true) {
        var user = {
          name: $("#name").val().trim(),
          photo: $("#photo").val().trim(),
          scores: [
            $("#1").val(),
            $("#2").val(),
            $("#3").val(),
            $("#4").val(),
            $("#5").val(),
            $("#6").val(),
            $("#7").val(),
            $("#8").val(),
            $("#9").val(),
            $("#10").val()
          ]
        };

        $.post("/api/friends", user,
        function(data) {
          if (data) {
            $("#match").html(data.matchName);
            $("#matchphoto").attr("src", data.matchPhoto);
            $("#myModal").modal("toggle");
          }
          else {
            alert("the form is incomplete!");
          }
          // Clear the form when submitting
          $("#name").val("");
          $("#photo").val("");
          $("#1").val("");
          $("#2").val("");
          $("#3").val("");
          $("#4").val("");
          $("#5").val("");
          $("#6").val("");
          $("#7").val("");
          $("#8").val("");
          $("#9").val("");
          $("#10").val("");
        });
      };
    });
</script>
</body>
</html>